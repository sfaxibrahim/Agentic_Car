FROM openjdk:24-jdk-slim
WORKDIR /app

COPY target/backend-0.0.1-SNAPSHOT.jar .

ENV SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/automobile
ENV SPRING_DATASOURCE_USERNAME=postgres
ENV SPRING_DATASOURCE_PASSWORD=161101
ENV JWT_SECRET=mySecretKey123456789012345678901234567890123456789012345678901234567890

EXPOSE 8080

ENTRYPOINT ["java", "-jar", "backend-0.0.1-SNAPSHOT.jar"]